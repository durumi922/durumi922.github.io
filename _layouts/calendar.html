<script>
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: [] // GitHub API에서 가져온 데이터가 여기에 들어감
      });
      calendar.render();
  
      const username = 'durumi922'; // GitHub 사용자명
      const repo = 'durumi922.github.io'; // 리포지토리 이름
      const apiURL = `https://api.github.com/repos/${username}/${repo}/contents/`;
  
      fetch(apiURL)
        .then(response => response.json())
        .then(data => {
          const events = data
            // 파일 이름이 'YYYY-MM-DD-TIL.md' 형식인지 확인
            .filter(file => file.name.match(/^\d{4}-\d{2}-\d{2}-TIL\.md$/))
            .map(file => {
              // 파일 이름에서 날짜를 추출 ('YYYY-MM-DD')
              const dateParts = file.name.split('-TIL.md')[0];
              return { title: 'TIL 작성', start: dateParts };
            });
  
          events.forEach(event => {
            calendar.addEvent(event);
          });
        })
        .catch(error => console.error('Error fetching files:', error));
    });
  </script>
  