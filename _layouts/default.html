---
---

<!doctype html>
{% include copyright.html %}
<html lang="{{ site.locale | replace: "_", "-" | default: "en" }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
    <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.0/main.min.css' rel='stylesheet' />
  </head>

  <body class="layout--{{ page.layout | default: layout.layout }}{% if page.classes or layout.classes %}{{ page.classes | default: layout.classes | join: ' ' | prepend: ' ' }}{% endif %}" dir="{% if site.rtl %}rtl{% else %}ltr{% endif %}">
    {% include_cached skip-links.html %}
    {% include_cached masthead.html %}

    <div class="initial-content">
      {{ content }}
      {% include after-content.html %}
    </div>

    {% if site.search == true %}
      <div class="search-content">
        {% include_cached search/search_form.html %}
      </div>
    {% endif %}

    <div id="footer" class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include_cached footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

    //달력
    <div id='calendar'></div>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.0/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.0/main.min.js'></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const calendarEl = document.getElementById('calendar');
        const calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          events: [] // GitHub API에서 가져온 데이터가 여기에 들어감
        });
        calendar.render();

        const username = 'your-username';
        const repo = 'your-repo';
        const apiURL = `https://api.github.com/repos/${username}/${repo}/contents/`;

        fetch(apiURL)
          .then(response => response.json())
          .then(data => {
            const events = data
              .filter(file => file.name.includes('til'))
              .map(file => {
                const dateParts = file.name.split('-');
                const date = `${dateParts[0]}-${dateParts[1]}-${dateParts[2]}`;
                return { title: 'TIL 작성', start: date };
              });

            events.forEach(event => {
              calendar.addEvent(event);
            });
          })
          .catch(error => console.error('Error fetching files:', error));
      });
    </script>

  </body>
</html>
